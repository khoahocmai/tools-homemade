<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pretty JSON</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<header>
        <div class="brand" id="brand">
            <span class="logo">üß©</span><span class="title">Pretty JSON</span>
        </div>
        <div class="controls">
            <button id="btnToggleTheme" class="btn-mini">üåô</button>
            <label class="button" for="fileInput">üìÑ M·ªü file</label>
            <input id="fileInput" type="file" accept=".json,.txt,.log,.js,.jsonc" />
            <button id="btnSample">D√°n v√≠ d·ª•</button>
            <button id="btnCopy">üìã Copy</button>
            <button id="btnToggleAll">‚§° Collapse all</button>
            <button id="btnToggleQuotes" class="btn-mini">üî§ B·ªè " " field</button>
            <button id="btnSortAZ">üî† Sort A‚ÄìZ</button>
            <button id="btnDownload">‚¨áÔ∏è T·∫£i JSON</button>
            <button id="btnClear">üßπ Xo√°</button>
        </div>
    </header>

    <!-- H√†ng 1: Input + K·∫øt qu·∫£ -->
    <div class="row">
        <section class="panel">
            <h2>ƒê·∫ßu v√†o</h2>
            <div class="body">
                <textarea id="input"
                    placeholder='D√°n JSON/JSON5/Object literal v√†o ƒë√¢y...'>{ "field-1": "value-1", "field-2": 200, "array-1": [ { "array-field-1": "a", "array-field-2": 1 }, { "array-field-1": "b", "array-field-2": 2 }, { "array-field-1": "c", "array-field-2": 3, "emptyArr": [], "emptyObj": {} } ], "object-1": { "field-1a": true, "field-1b": null, "emptyArr": [], "emptyObj": {}, "nested": { "deeperEmptyArr": [], "deeperEmptyObj": {} } }, "emptyArrayTop": [], "emptyObjectTop": {} }</textarea>
                <div class="small" id="meta"></div>
                <h3 class="small" style="margin:14px 0 6px;color:var(--muted)">JSON (ƒë√£ format)</h3>
                <pre id="pretty"></pre>
            </div>
        </section>

        <section class="panel result-panel">
            <h2>K·∫øt qu·∫£</h2>
            <div class="body">
                <div class="bar sticky" id="resultSearchBar">
                    <div class="searchWrap">
                        <input id="search" type="text" placeholder="üîé T√¨m kh√≥a/gi√° tr·ªã" class="search" />
                        <button id="btnClearSearch" class="clear-btn" title="Xo√° t√¨m ki·∫øm">√ó</button>
                    </div>
                    <div class="searchOptions">
                        <button class="btn-mini" id="optCase">Aa</button>
                        <button class="btn-mini" id="optWhole">üîç</button>
                    </div>

                    <span class="pill hide" id="resultCount"></span>
                    <span class="pill hide" id="err"></span>
                    <span class="pill hide" id="childInfo"></span>
                    <div id="navHits" style="margin-left:auto; display:none; gap:8px; align-items:center">
                        <button id="btnPrevHit" class="btn-mini">‚Üê</button>
                        <button id="btnNextHit" class="btn-mini">‚Üí</button>
                    </div>
                </div>
                <div id="tree" class="tree"></div>
            </div>
        </section>
    </div>

    <!-- H√†ng 2: Th·ªëng k√™ + Tr√≠ch xu·∫•t -->
    <div class="row" style="grid-template-columns: 1fr;">
        <section class="panel">
            <h2>T·ªïng quan & Tr√≠ch xu·∫•t</h2>
            <div class="body">
                <div class="pills" id="statsPills"></div>

                <div class="card" style="margin-top:8px">
                    <header>
                        <strong>Key kh√¥ng c√≥ gi√° tr·ªã con</strong>
                    </header>
                    <div class="list" id="keysList"></div>
                </div>

                <div class="card" style="margin-top:8px">
                    <header>
                        <strong>Gi√° tr·ªã theo lo·∫°i</strong>
                    </header>

                    <div class="values-grid">
                        <!-- Tr√™n: Boolean -->
                        <div class="valcol mini bool">
                            <div class="valcol-head"><span id="headBool">Boolean</span></div>
                            <div class="val-list" id="listBooleans"></div>
                        </div>

                        <!-- Tr√™n: Null -->
                        <div class="valcol mini null">
                            <div class="valcol-head"><span id="headNull">Null</span></div>
                            <div class="val-list" id="listNulls"></div>
                        </div>

                        <!-- D∆∞·ªõi: String -->
                        <div class="valcol string">
                            <div class="valcol-head">
                                <span id="headString">String</span>
                            </div>
                            <div class="val-list" id="listStrings"></div>
                        </div>

                        <!-- D∆∞·ªõi: Number -->
                        <div class="valcol number">
                            <div class="valcol-head">
                                <span id="headNumber">Number</span>
                            </div>
                            <div class="val-list" id="listNumbers"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="searchFloat" class="search-float is-collapsed" aria-hidden="true">

        <!-- CH·ªà HI·ªÜN KHI COLLAPSED -->
        <button id="floatHandle" class="float-handle" title="T√¨m ki·∫øm">üîé</button>

        <!-- CH·ªà HI·ªÜN KHI EXPANDED -->
        <div class="float-body">
            <!-- D√≤ng 1 -->
            <div class="float-row float-row-input">
                <input id="search2" type="text" placeholder="T√¨m..." class="search" />
                <button id="btnClearSearch2" class="clear-btn" title="Xo√°">√ó</button>
            </div>

            <!-- D√≤ng 2 -->
            <div class="float-row float-row-2">
                <div class="searchOptions">
                    <button class="btn-mini" id="optCase2">Aa</button>
                    <button class="btn-mini" id="optWhole2">üîç</button>
                </div>

                <div class="float-nav">
                    <button class="btn" id="floatPrev" title="K·∫øt qu·∫£ tr∆∞·ªõc">‚Üë</button>
                    <div class="badge" id="floatCounter">0/0</div>
                    <button class="btn" id="floatNext" title="K·∫øt qu·∫£ ti·∫øp">‚Üì</button>
                </div>
            </div>
        </div>
    </div>

  <!-- Scripts (split for easier debugging) -->
  <script src="./script/dom.js"></script>
  <script src="./script/normalize.js"></script>
  <script src="./script/tree.js"></script>
  <script src="./script/search.js"></script>
  <script src="./script/stats.js"></script>
  <script src="./script/sort.js"></script>
  <script src="./script/app.js"></script>
</body>
</html>
